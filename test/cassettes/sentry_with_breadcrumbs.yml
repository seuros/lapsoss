---
http_interactions:
- request:
    method: post
    uri: https://o<ORG_ID>.ingest.us.sentry.io/api/<PROJECT_ID>/envelope/
    body:
      encoding: UTF-8
      string: |-
        {"event_id":"7abdddba-d4c6-44af-9a49-be5d1dc5b763","sent_at":"2025-09-09T18:01:25Z","sdk":{"name":"lapsoss","version":"0.4.6","packages":[{"name":"lapsoss-ruby","version":"0.4.6"}]}}
        {"type":"event","content_type":"application/json"}
        {"event_id":"80997f19-293d-4de1-8956-878bc146d1b2","timestamp":"2025-09-09T18:01:25Z","platform":"ruby","level":"error","environment":"production","release":"cfe509d1e76af8297aa501fceaeb18f378763cdc","server_name":"Periscope.local","contexts":{"os":{"name":"darwin24","version":"24.6.0","build":"Darwin Kernel Version 24.6.0: Mon Jul 14 11:30:29 PDT 2025; root:xnu-11417.140.69~1/RELEASE_ARM64_T6000","kernel_version":"Darwin Periscope.local 24.6.0 Darwin Kernel Version 24.6.0: Mon Jul 14 11:30:29 PDT 2025; root:xnu-11417.140.69~1/RELEASE_ARM64_T6000 arm64","machine":"arm64"},"runtime":{"name":"ruby","version":"ruby 3.4.5 (2025-07-16 revision 20cda200d3) +PRISM [arm64-darwin24]"}},"breadcrumbs":[{"timestamp":"2025-09-09T18:01:25Z","type":"navigation","message":"User clicked button","data":{"metadata":{"button":"submit"}}},{"timestamp":"2025-09-09T18:01:25Z","type":"http","message":"API request started","data":{"metadata":{"url":"/api/test"}}},{"timestamp":"2025-09-09T18:01:25Z","type":"error","message":"API request failed","data":{"metadata":{"status":500}}}],"sdk":{"name":"lapsoss.ruby","version":"0.4.6"},"exception":{"values":[{"type":"RuntimeError","value":"Error after breadcrumbs","module":null,"thread_id":616,"stacktrace":null,"mechanism":{"type":"generic","handled":true}}]},"threads":{"values":[{"id":616,"name":"worker-1","crashed":true,"current":true}]}}
    headers:
      User-Agent:
      - lapsoss/<VERSION>
      Content-Type:
      - application/x-sentry-envelope
      X-Lapsoss-Version:
      - "<VERSION>"
      X-Sentry-Auth:
      - Sentry sentry_version=7, sentry_client=lapsoss/<VERSION>, sentry_key=<FILTERED>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Tue, 09 Sep 2025 18:01:25 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '41'
      Vary:
      - origin, access-control-request-method, access-control-request-headers
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - x-sentry-error,x-sentry-rate-limits,retry-after
      Cross-Origin-Resource-Policy:
      - cross-origin
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Via:
      - 1.1 google
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: UTF-8
      string: '{"id":"7abdddbad4c644af9a49be5d1dc5b763"}'
  recorded_at: Tue, 09 Sep 2025 18:01:25 GMT
recorded_with: VCR 6.3.1
